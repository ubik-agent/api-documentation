---
title: "Guide : Exécuter Votre Premier Outil"
description: "Apprenez à découvrir, exécuter et récupérer les résultats des puissants outils asynchrones d'UBIK."
---

Ce guide montre comment tirer parti des outils d'UBIK pour effectuer des tâches complexes. Vous apprendrez à lister les outils disponibles, à en exécuter un avec les entrées requises, puis à interroger les résultats de l'exécution.

## Étape 1 : Découvrir les Outils Disponibles

D'abord, voyons quels outils sont disponibles. Nous pouvons obtenir une liste de tous les outils qui nous sont accessibles en effectuant une requête `GET` vers le point de terminaison `/tools`.

```bash
curl -X GET "https://app.ubik-agent.com/api/v1/tools" \
     -H "X-API-KEY: VOTRE_CLE_API"
```

La réponse sera une liste paginée d'outils. Pour ce guide, supposons que nous voulons utiliser un outil nommé "Extracteur de Données Financières". Copiez son `id` depuis la réponse.

```json
{
  "items": [
    {
      "id": "d1e2f3a4-b5c6-7890-1234-567890abcdef",
      "name": "Financial Data Extractor",
      "description": "Extracts key financial metrics from annual reports."
    }
  ],
  "total": 1,
  "page": 1,
  "limit": 20,
  "has_more": false
}
```

## Étape 2 : Exécuter l'Outil de Manière Asynchrone

Les outils dans UBIK s'exécutent de manière asynchrone. Vous lancez une tâche en effectuant une requête `POST` vers le point de terminaison `/tools/{tool_id}/execute`, en fournissant les `inputs` nécessaires. Cela vous permet de lancer une tâche de longue durée sans bloquer votre application.

Remplacez `VOTRE_ID_OUTIL` par l'`id` que vous avez copié.

```bash
curl -X POST "https://app.ubik-agent.com/api/v1/tools/VOTRE_ID_OUTIL/execute" \
     -H "X-API-KEY: VOTRE_CLE_API" \
     -H "Content-Type: application/json" \
     -d '{
          "inputs": {
            "stock_symbol": "ACME",
            "report_year": 2023
          }
        }'
```

L'API répondra immédiatement avec un code de statut `202 Accepted`. Le corps de la réponse contiendra un `execution_id` et une `details_url` que vous pourrez utiliser pour vérifier le statut et obtenir le résultat plus tard.

```json
{
  "execution_id": "exec_123456789",
  "status": "pending",
  "tool_id": "d1e2f3a4-b5c6-7890-1234-567890abcdef",
  "details_url": "https://app.ubik-agent.com/api/v1/tool-executions/exec_123456789",
  "stream_url": "https://app.ubik-agent.com/api/v1/tool-executions/exec_123456789/stream"
}
```

## Étape 3 : Interroger les Résultats

Maintenant que l'outil est en cours d'exécution, vous pouvez vérifier périodiquement la `details_url` (ou effectuer une requête `GET` vers `/tool-executions/{execution_id}`) pour obtenir le résultat final.

Remplacez `VOTRE_ID_EXECUTION` par l'`execution_id` de l'étape précédente.

```bash
curl -X GET "https://app.ubik-agent.com/api/v1/tool-executions/VOTRE_ID_EXECUTION" \
     -H "X-API-KEY: VOTRE_CLE_API"
```

Initialement, le `status` pourrait être `running`. Une fois l'exécution terminée, le statut passera à `completed` et le champ `outputs` sera rempli avec le résultat.

```json
{
  "id": "exec_123456789",
  "tool_id": "d1e2f3a4-b5c6-7890-1234-567890abcdef",
  "status": "completed",
  "inputs": {
    "stock_symbol": "ACME",
    "report_year": 2023
  },
  "outputs": {
    "revenue": 1000000,
    "profit": 250000
  },
  "created_at": "2025-09-29T12:00:00Z",
  "started_at": "2025-09-29T12:00:01Z",
  "completed_at": "2025-09-29T12:00:05Z"
}
```

<Check>
Succès ! Vous venez d'exécuter votre premier outil et d'en récupérer le résultat.
</Check>
